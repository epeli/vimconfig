#!/bin/sh

if [ "$(which prettier)" = "" ]; then
    exec cat
fi

opts=

while true; do

    if [ -f .prettieropts ]; then
        opts=$(cat .prettieropts)
        break
    fi

    if [ "$(pwd)" = "/" ]; then
        break
    fi

    cd ..

done

if [ "$opts" = "" ]; then
    opts="--no-bracket-spacing --tab-width=4 --trailing-comma --print-width=100"
fi

if [ "$opts" = "disable" ]; then
    exec cat
fi

exec prettier $opts $@

